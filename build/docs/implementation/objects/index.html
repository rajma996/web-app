<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Object  Implementation of Mini Version of User Directory Application</title>
<!-- 2016-06-01 Wed 10:33 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Raj Manvar" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Object  Implementation of Mini Version of User Directory Application</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Initialization</a>
<ul>
<li><a href="#sec-1-1">1.1. Imports for Python API</a></li>
<li><a href="#sec-1-2">1.2. Imports and Initialization of testcases for Python API</a></li>
<li><a href="#sec-1-3">1.3. Imports for utility functions</a></li>
<li><a href="#sec-1-4">1.4. Init Files</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Object Model</a>
<ul>
<li><a href="#sec-2-1">2.1. Custom Exceptions</a>
<ul>
<li><a href="#sec-2-1-1">2.1.1. AttributeRequired</a></li>
<li><a href="#sec-2-1-2">2.1.2. ConstraintError</a></li>
</ul>
</li>
<li><a href="#sec-2-2">2.2. Utility Functions</a>
<ul>
<li><a href="#sec-2-2-1">2.2.1. is_alphabetic_string(value)</a></li>
<li><a href="#sec-2-2-2">2.2.2. is_email(value)</a></li>
<li><a href="#sec-2-2-3">2.2.3. is_role(value):</a></li>
</ul>
</li>
<li><a href="#sec-2-3">2.3. Name</a>
<ul>
<li><a href="#sec-2-3-1">2.3.1. Construction</a></li>
<li><a href="#sec-2-3-2">2.3.2. Test the Construction</a></li>
</ul>
</li>
<li><a href="#sec-2-4">2.4. Email</a>
<ul>
<li><a href="#sec-2-4-1">2.4.1. Construction</a></li>
<li><a href="#sec-2-4-2">2.4.2. Test the Construction</a></li>
<li><a href="#sec-2-4-3">2.4.3. Functions</a>
<ul>
<li><a href="#sec-2-4-3-1">2.4.3.1. getemail</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-5">2.5. User</a>
<ul>
<li><a href="#sec-2-5-1">2.5.1. Mutable Data</a></li>
<li><a href="#sec-2-5-2">2.5.2. Definition</a></li>
<li><a href="#sec-2-5-3">2.5.3. Constructor</a>
<ul>
<li><a href="#sec-2-5-3-1">2.5.3.1. Implementation</a></li>
<li><a href="#sec-2-5-3-2">2.5.3.2. Test the constructor</a></li>
</ul>
</li>
<li><a href="#sec-2-5-4">2.5.4. Functions</a>
<ul>
<li><a href="#sec-2-5-4-1">2.5.4.1. setEmail</a></li>
<li><a href="#sec-2-5-4-2">2.5.4.2. setName</a></li>
<li><a href="#sec-2-5-4-3">2.5.4.3. setRole</a></li>
<li><a href="#sec-2-5-4-4">2.5.4.4. getRole</a></li>
<li><a href="#sec-2-5-4-5">2.5.4.5. getEmail</a></li>
<li><a href="#sec-2-5-4-6">2.5.4.6. getName</a></li>
<li><a href="#sec-2-5-4-7">2.5.4.7. toClient</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-6">2.6. Role</a>
<ul>
<li><a href="#sec-2-6-1">2.6.1. Introduction</a></li>
<li><a href="#sec-2-6-2">2.6.2. Mutable Data</a></li>
<li><a href="#sec-2-6-3">2.6.3. Definition</a></li>
<li><a href="#sec-2-6-4">2.6.4. Constructor</a></li>
<li><a href="#sec-2-6-5">2.6.5. Test Constructor</a></li>
<li><a href="#sec-2-6-6">2.6.6. Functions</a>
<ul>
<li><a href="#sec-2-6-6-1">2.6.6.1. setrole</a></li>
<li><a href="#sec-2-6-6-2">2.6.6.2. getrole</a></li>
<li><a href="#sec-2-6-6-3">2.6.6.3. getAll: Nil &#x2013;&gt; set[Role]</a></li>
<li><a href="#sec-2-6-6-4">2.6.6.4. to_client</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-7">2.7. Session</a>
<ul>
<li><a href="#sec-2-7-1">2.7.1. Introduction</a></li>
<li><a href="#sec-2-7-2">2.7.2. Mutable Data</a></li>
<li><a href="#sec-2-7-3">2.7.3. Definition</a></li>
<li><a href="#sec-2-7-4">2.7.4. Constructor</a></li>
<li><a href="#sec-2-7-5">2.7.5. Test Constructor</a></li>
<li><a href="#sec-2-7-6">2.7.6. Functions</a>
<ul>
<li><a href="#sec-2-7-6-1">2.7.6.1. get_user</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-8">2.8. System</a>
<ul>
<li><a href="#sec-2-8-1">2.8.1. Introduction</a></li>
<li><a href="#sec-2-8-2">2.8.2. Mutable Data</a></li>
<li><a href="#sec-2-8-3">2.8.3. Definition</a></li>
<li><a href="#sec-2-8-4">2.8.4. Constructor</a></li>
<li><a href="#sec-2-8-5">2.8.5. Test Constructor</a></li>
<li><a href="#sec-2-8-6">2.8.6. Functions</a>
<ul>
<li><a href="#sec-2-8-6-1">2.8.6.1. adduser</a></li>
<li><a href="#sec-2-8-6-2">2.8.6.2. showUsers</a></li>
<li><a href="#sec-2-8-6-3">2.8.6.3. deluser</a></li>
<li><a href="#sec-2-8-6-4">2.8.6.4. getuserbyemail</a></li>
<li><a href="#sec-2-8-6-5">2.8.6.5. getEmail</a></li>
<li><a href="#sec-2-8-6-6">2.8.6.6. getName</a></li>
<li><a href="#sec-2-8-6-7">2.8.6.7. getrole</a></li>
<li><a href="#sec-2-8-6-8">2.8.6.8. setEmail</a></li>
<li><a href="#sec-2-8-6-9">2.8.6.9. setName</a></li>
<li><a href="#sec-2-8-6-10">2.8.6.10. showsessions</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-2-9">2.9. Main</a>
<ul>
<li><a href="#sec-2-9-1">2.9.1. Construction</a></li>
<li><a href="#sec-2-9-2">2.9.2. Test the Construction</a></li>
<li><a href="#sec-2-9-3">2.9.3. Functions</a>
<ul>
<li><a href="#sec-2-9-3-1">2.9.3.1. login</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-3">3. Run Test Cases</a></li>
</ul>
</div>
</div>


<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Initialization</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Imports for Python API</h3>
<div class="outline-text-3" id="text-1-1">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">-*- coding: utf-8 -*-</span>
<span style="font-weight: bold;">from</span> op_exceptions <span style="font-weight: bold;">import</span> AttributeRequired
<span style="font-weight: bold;">from</span> op_exceptions <span style="font-weight: bold;">import</span> ConstraintError
<span style="font-weight: bold;">from</span> utils <span style="font-weight: bold;">import</span> *
<span style="font-weight: bold;">import</span> copy
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Imports and Initialization of testcases for Python API</h3>
<div class="outline-text-3" id="text-1-2">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">-*- coding: utf-8 -*-</span>
<span style="font-weight: bold;">import</span> unittest
<span style="font-weight: bold;">from</span> unittest <span style="font-weight: bold;">import</span> TestCase
<span style="font-weight: bold;">from</span> datetime <span style="font-weight: bold;">import</span> datetime

<span style="font-weight: bold;">from</span> src.obj <span style="font-weight: bold;">import</span> *
<span style="font-weight: bold;">from</span> src.op_exceptions <span style="font-weight: bold;">import</span> AttributeRequired
<span style="font-weight: bold;">from</span> src.op_exceptions <span style="font-weight: bold;">import</span> ConstraintError
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Imports for utility functions</h3>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Init Files</h3>
<div class="outline-text-3" id="text-1-4">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">import</span> obj
</pre>
</div>

<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">print</span> <span style="font-style: italic;">"tests package"</span>
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Object Model</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> Custom Exceptions</h3>
<div class="outline-text-3" id="text-2-1">
<p>
These are some of the custom exceptions used in the application.
</p>
</div>

<div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> AttributeRequired</h4>
<div class="outline-text-4" id="text-2-1-1">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">AttributeRequired</span>(<span style="font-weight: bold; text-decoration: underline;">Exception</span>):
    <span style="font-weight: bold;">str</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, <span style="font-weight: bold;">str</span>):
        <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">str</span> = <span style="font-weight: bold;">str</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">repr</span>(<span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">str</span>)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="section-number-4">2.1.2</span> ConstraintError</h4>
<div class="outline-text-4" id="text-2-1-2">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">ConstraintError</span>(<span style="font-weight: bold; text-decoration: underline;">Exception</span>):
    <span style="font-weight: bold;">str</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, <span style="font-weight: bold;">str</span>):
        <span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">str</span> = <span style="font-weight: bold;">str</span>

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">repr</span>(<span style="font-weight: bold;">self</span>.<span style="font-weight: bold;">str</span>)
</pre>
</div>
</div>
</div>
</div>




<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> Utility Functions</h3>
<div class="outline-text-3" id="text-2-2">
</div><div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="section-number-4">2.2.1</span> is_alphabetic_string(value)</h4>
<div class="outline-text-4" id="text-2-2-1">
<p>
This function take an argument and checks whether the argument contains
only alphabets.
</p>
</div>
</div>

<div id="outline-container-sec-2-2-2" class="outline-4">
<h4 id="sec-2-2-2"><span class="section-number-4">2.2.2</span> is_email(value)</h4>
<div class="outline-text-4" id="text-2-2-2">
<p>
Email is a type as defined in RFC <a href="https://tools.ietf.org/html/rfc5321">5321</a>, <a href="https://tools.ietf.org/html/rfc5322">5322</a> and <a href="https://tools.ietf.org/html/rfc6531">6531</a>.
Following is the constructor for this class.
</p>
</div>
</div>

<div id="outline-container-sec-2-2-3" class="outline-4">
<h4 id="sec-2-2-3"><span class="section-number-4">2.2.3</span> is_role(value):</h4>
</div>
</div>


<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Name</h3>
<div class="outline-text-3" id="text-2-3">
</div><div id="outline-container-sec-2-3-1" class="outline-4">
<h4 id="sec-2-3-1"><span class="section-number-4">2.3.1</span> Construction</h4>
<div class="outline-text-4" id="text-2-3-1">
<p>
Name is an alphabetical string.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Name</span>(<span style="font-weight: bold;">object</span>):
    <span style="font-weight: bold; font-style: italic;">value</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, value):
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">value: String </span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">if the string contains any non-alphabet and non-space character,</span>
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">raise a type error</span>
        <span style="font-weight: bold;">if</span> is_alphabetic_string(value):
            <span style="font-weight: bold;">self</span>.value = value
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">'%s is not a Name!'</span> % value)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.value
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-3-2" class="outline-4">
<h4 id="sec-2-3-2"><span class="section-number-4">2.3.2</span> Test the Construction</h4>
<div class="outline-text-4" id="text-2-3-2">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TestName</span>(TestCase):
    <span style="font-weight: bold; font-style: italic;">TESTING</span> = <span style="font-weight: bold; text-decoration: underline;">True</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_name_type</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">"test_name_type"</span>
        <span style="font-weight: bold; font-style: italic;">new_name</span> = Name(<span style="font-style: italic;">"John"</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">correct name</span>
        <span style="font-weight: bold;">self</span>.assertEqual(new_name.value, <span style="font-style: italic;">"John"</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">incorrect name</span>
        <span style="font-weight: bold;">self</span>.assertRaises(<span style="font-weight: bold; text-decoration: underline;">TypeError</span>, Name, <span style="font-style: italic;">"123dasd"</span>)
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-sec-2-4" class="outline-3">
<h3 id="sec-2-4"><span class="section-number-3">2.4</span> Email</h3>
<div class="outline-text-3" id="text-2-4">
</div><div id="outline-container-sec-2-4-1" class="outline-4">
<h4 id="sec-2-4-1"><span class="section-number-4">2.4.1</span> Construction</h4>
<div class="outline-text-4" id="text-2-4-1">
<p>
Email is a type as defined in RFC <a href="https://tools.ietf.org/html/rfc5321">5321</a>, <a href="https://tools.ietf.org/html/rfc5322">5322</a> and <a href="https://tools.ietf.org/html/rfc6531">6531</a>.
Following is the constructor for this class.
</p>

<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Email</span>(<span style="font-weight: bold;">object</span>):
    <span style="font-weight: bold; font-style: italic;">value</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, value):
        <span style="font-weight: bold;">if</span> is_email(value) :
           <span style="font-weight: bold;">self</span>.value = value
        <span style="font-weight: bold;">else</span> :
           <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">'%s is not a Email!'</span> % value)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__str__</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.value
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-4-2" class="outline-4">
<h4 id="sec-2-4-2"><span class="section-number-4">2.4.2</span> Test the Construction</h4>
<div class="outline-text-4" id="text-2-4-2">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TestEmail</span>(TestCase):
    <span style="font-weight: bold; font-style: italic;">TESTING</span> = <span style="font-weight: bold; text-decoration: underline;">True</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_email_type</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">"test_email_type"</span>
        <span style="font-weight: bold; font-style: italic;">new_email</span> = Email(<span style="font-style: italic;">"Johnw@gmail.com"</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">correct name</span>
        <span style="font-weight: bold;">self</span>.assertEqual(new_email.value, <span style="font-style: italic;">"Johnw@gmail.com"</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">incorrect name</span>
        <span style="font-weight: bold;">self</span>.assertRaises(<span style="font-weight: bold; text-decoration: underline;">TypeError</span>, Email, <span style="font-style: italic;">"sdfsdfsdfsfsdf"</span>)
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-4-3" class="outline-4">
<h4 id="sec-2-4-3"><span class="section-number-4">2.4.3</span> Functions</h4>
<div class="outline-text-4" id="text-2-4-3">
</div><div id="outline-container-sec-2-4-3-1" class="outline-5">
<h5 id="sec-2-4-3-1"><span class="section-number-5">2.4.3.1</span> getemail</h5>
<div class="outline-text-5" id="text-2-4-3-1">
</div><ol class="org-ol"><li><a id="sec-2-4-3-1-1" name="sec-2-4-3-1-1"></a>Implementaion<br  /><div class="outline-text-6" id="text-2-4-3-1-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_email</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.value
</pre>
</div>
</div>
</li></ol>
</div>
</div>
</div>



<div id="outline-container-sec-2-5" class="outline-3">
<h3 id="sec-2-5"><span class="section-number-3">2.5</span> User</h3>
<div class="outline-text-3" id="text-2-5">
</div><div id="outline-container-sec-2-5-1" class="outline-4">
<h4 id="sec-2-5-1"><span class="section-number-4">2.5.1</span> Mutable Data</h4>
<div class="outline-text-4" id="text-2-5-1">
<p>
These are the data associated with User type, which are mutable
</p>

<ul class="org-ul">
<li>Name
</li>
<li>Email
</li>
<li>Role
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-2-5-2" class="outline-4">
<h4 id="sec-2-5-2"><span class="section-number-4">2.5.2</span> Definition</h4>
<div class="outline-text-4" id="text-2-5-2">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">User</span>():
    <span style="font-weight: bold; font-style: italic;">email</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
    <span style="font-weight: bold; font-style: italic;">name</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
    <span style="font-weight: bold; font-style: italic;">role</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-5-3" class="outline-4">
<h4 id="sec-2-5-3"><span class="section-number-4">2.5.3</span> Constructor</h4>
<div class="outline-text-4" id="text-2-5-3">
</div><div id="outline-container-sec-2-5-3-1" class="outline-5">
<h5 id="sec-2-5-3-1"><span class="section-number-5">2.5.3.1</span> Implementation</h5>
<div class="outline-text-5" id="text-2-5-3-1">
<p>
Signature of the constructor of <code>User</code> is as follows:
</p>

<pre class="example">
usr = User(name=&lt;object of Name&gt;, email=&lt;object of Email&gt;, 
          role=[&lt;object of Role&gt;, &lt;object of Role&gt; ...])
</pre>

<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, kwargs):
        <span style="font-weight: bold;">if</span> <span style="font-style: italic;">'name'</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">in</span> kwargs <span style="font-weight: bold;">or</span> <span style="font-style: italic;">'email'</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">in</span> kwargs <span style="font-weight: bold;">or</span> <span style="font-style: italic;">'role'</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">in</span> kwargs:
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">AttributeError</span>(<span style="font-style: italic;">"argument should be a dict with keys name, email and role"</span>)

        <span style="font-weight: bold;">elif</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">isinstance</span>(kwargs[<span style="font-style: italic;">'name'</span>],Name)  :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">AttributeError</span>(<span style="font-style: italic;">"name key must have an instance of Name class"</span>)

        <span style="font-weight: bold;">elif</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">isinstance</span>(kwargs[<span style="font-style: italic;">'email'</span>],Email)  :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">AttributeError</span>(<span style="font-style: italic;">"email key must have an instance of Email class"</span>)

        <span style="font-weight: bold;">elif</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">isinstance</span>(kwargs[<span style="font-style: italic;">'role'</span>],Role)  :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">AttributeError</span>(<span style="font-style: italic;">"role key must have an instance of Role class"</span>)

        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">self</span>.name = kwargs[<span style="font-style: italic;">'name'</span>]
            <span style="font-weight: bold;">self</span>.email = kwargs[<span style="font-style: italic;">'email'</span>]
            <span style="font-weight: bold;">self</span>.role = kwargs[<span style="font-style: italic;">'role'</span>]
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-5-3-2" class="outline-5">
<h5 id="sec-2-5-3-2"><span class="section-number-5">2.5.3.2</span> Test the constructor</h5>
<div class="outline-text-5" id="text-2-5-3-2">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TestUser</span>(TestCase):
    <span style="font-weight: bold; font-style: italic;">TESTING</span> = <span style="font-weight: bold; text-decoration: underline;">True</span>
    
 
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_user_creation_without_role</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold; font-style: italic;">temp</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'john'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'john@gmail.com'</span>)}
        <span style="font-weight: bold;">self</span>.assertRaises(<span style="font-weight: bold; text-decoration: underline;">AttributeError</span>,User, temp )

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_user_creation_with_role</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold; font-style: italic;">temp</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'john'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'john@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
        <span style="font-weight: bold; font-style: italic;">inst</span> = User(temp)
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_name(),<span style="font-style: italic;">'john'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_email(),<span style="font-style: italic;">'john@gmail.com'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_role(),<span style="font-style: italic;">'admin'</span>)
</pre>
</div>
</div>
</div>
</div>



<div id="outline-container-sec-2-5-4" class="outline-4">
<h4 id="sec-2-5-4"><span class="section-number-4">2.5.4</span> Functions</h4>
<div class="outline-text-4" id="text-2-5-4">
</div><div id="outline-container-sec-2-5-4-1" class="outline-5">
<h5 id="sec-2-5-4-1"><span class="section-number-5">2.5.4.1</span> setEmail</h5>
<div class="outline-text-5" id="text-2-5-4-1">
</div><ol class="org-ol"><li><a id="sec-2-5-4-1-1" name="sec-2-5-4-1-1"></a>Implementaion<br  /><div class="outline-text-6" id="text-2-5-4-1-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">set_email</span>(<span style="font-weight: bold;">self</span>, email):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(email,Email):
            <span style="font-weight: bold;">self</span>.email = email
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">'argument must be an istance of email class'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-5-4-1-2" name="sec-2-5-4-1-2"></a>Test<br  /><div class="outline-text-6" id="text-2-5-4-1-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_setemail</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold; font-style: italic;">temp</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'john'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'john@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
        <span style="font-weight: bold; font-style: italic;">inst</span> = User(temp)
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_email(),<span style="font-style: italic;">'john@gmail.com'</span>)
        inst.set_email(Email(<span style="font-style: italic;">'john123@gmail.com'</span>));
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_email(),<span style="font-style: italic;">'john123@gmail.com'</span>)
</pre>
</div>
</div>
</li></ol>
</div>
<div id="outline-container-sec-2-5-4-2" class="outline-5">
<h5 id="sec-2-5-4-2"><span class="section-number-5">2.5.4.2</span> setName</h5>
<div class="outline-text-5" id="text-2-5-4-2">
</div><ol class="org-ol"><li><a id="sec-2-5-4-2-1" name="sec-2-5-4-2-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-5-4-2-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">set_name</span>(<span style="font-weight: bold;">self</span>, name):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(name,Name):
            <span style="font-weight: bold;">self</span>.name = name;
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">'argument must be an istance of Name class'</span>)
</pre>
</div>
</div>
</li>
<li><a id="sec-2-5-4-2-2" name="sec-2-5-4-2-2"></a>Test<br  /><div class="outline-text-6" id="text-2-5-4-2-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_setname</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold; font-style: italic;">temp</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'john'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'john@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
        <span style="font-weight: bold; font-style: italic;">inst</span> = User(temp)
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_name(),<span style="font-style: italic;">'john'</span>)
        inst.set_name(Name(<span style="font-style: italic;">'johnsnow'</span>));
        <span style="font-weight: bold;">self</span>.assertEqual(inst.get_name(),<span style="font-style: italic;">'johnsnow'</span>)
</pre>
</div>
</div>
</li></ol>
</div>
<div id="outline-container-sec-2-5-4-3" class="outline-5">
<h5 id="sec-2-5-4-3"><span class="section-number-5">2.5.4.3</span> setRole</h5>
<div class="outline-text-5" id="text-2-5-4-3">
</div><ol class="org-ol"><li><a id="sec-2-5-4-3-1" name="sec-2-5-4-3-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-5-4-3-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">set_role</span>(<span style="font-weight: bold;">self</span>, role):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(role,Role):
            <span style="font-weight: bold;">self</span>.role = role;
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">'attribute must be an istance of Role class'</span>)
</pre>
</div>
</div>
</li>
<li><a id="sec-2-5-4-3-2" name="sec-2-5-4-3-2"></a>Test<br  /></li></ol>
</div>

<div id="outline-container-sec-2-5-4-4" class="outline-5">
<h5 id="sec-2-5-4-4"><span class="section-number-5">2.5.4.4</span> getRole</h5>
<div class="outline-text-5" id="text-2-5-4-4">
</div><ol class="org-ol"><li><a id="sec-2-5-4-4-1" name="sec-2-5-4-4-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-5-4-4-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_role</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.role.value
</pre>
</div>
</div>
</li>
<li><a id="sec-2-5-4-4-2" name="sec-2-5-4-4-2"></a>Test<br  /></li></ol>
</div>


<div id="outline-container-sec-2-5-4-5" class="outline-5">
<h5 id="sec-2-5-4-5"><span class="section-number-5">2.5.4.5</span> getEmail</h5>
<div class="outline-text-5" id="text-2-5-4-5">
<div class="org-src-container">

<pre class="src src-python">   <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_email</span>(<span style="font-weight: bold;">self</span>):
       <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.email.value
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-5-4-6" class="outline-5">
<h5 id="sec-2-5-4-6"><span class="section-number-5">2.5.4.6</span> getName</h5>
<div class="outline-text-5" id="text-2-5-4-6">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_name</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.name.value
</pre>
</div>
</div>
</div>




<div id="outline-container-sec-2-5-4-7" class="outline-5">
<h5 id="sec-2-5-4-7"><span class="section-number-5">2.5.4.7</span> toClient</h5>
<div class="outline-text-5" id="text-2-5-4-7">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">to_client</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">pass</span>
<span style="font-weight: bold; font-style: italic;">#        </span><span style="font-weight: bold; font-style: italic;">return {</span>
<span style="font-weight: bold; font-style: italic;">#            </span><span style="font-weight: bold; font-style: italic;">'name': self.name,</span>
<span style="font-weight: bold; font-style: italic;">#            </span><span style="font-weight: bold; font-style: italic;">'email': self.email,</span>
<span style="font-weight: bold; font-style: italic;">#            </span><span style="font-weight: bold; font-style: italic;">'role': self.role.to_client()</span>
<span style="font-weight: bold; font-style: italic;">#        </span><span style="font-weight: bold; font-style: italic;">}</span>
</pre>
</div>
</div>
</div>
</div>
</div>



<div id="outline-container-sec-2-6" class="outline-3">
<h3 id="sec-2-6"><span class="section-number-3">2.6</span> Role</h3>
<div class="outline-text-3" id="text-2-6">
</div><div id="outline-container-sec-2-6-1" class="outline-4">
<h4 id="sec-2-6-1"><span class="section-number-4">2.6.1</span> Introduction</h4>
<div class="outline-text-4" id="text-2-6-1">
<p>
A Role has got certain privileges.  In this current application, the
privileges are understood 
</p>

<p>
Different types of roles are:
</p>
<dl class="org-dl">
<dt> Admin </dt><dd>An admin is an user who can add, modify and delete other users
except himself.
</dd>
<dt> User </dt><dd>A User is a user who can view all other users and can modify himself.
</dd>
</dl>
</div>
</div>


<div id="outline-container-sec-2-6-2" class="outline-4">
<h4 id="sec-2-6-2"><span class="section-number-4">2.6.2</span> Mutable Data</h4>
<div class="outline-text-4" id="text-2-6-2">
<p>
These are the data associated with Role type, which are mutable
</p>

<ul class="org-ul">
<li>Name
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-2-6-3" class="outline-4">
<h4 id="sec-2-6-3"><span class="section-number-4">2.6.3</span> Definition</h4>
<div class="outline-text-4" id="text-2-6-3">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Role</span>():
    <span style="font-weight: bold; font-style: italic;">value</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-6-4" class="outline-4">
<h4 id="sec-2-6-4"><span class="section-number-4">2.6.4</span> Constructor</h4>
<div class="outline-text-4" id="text-2-6-4">
<p>
The signature of Role is defined as follows
</p>
<pre class="example">
role = Role("admin")
</pre>

<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, string):
        <span style="font-weight: bold;">if</span> is_role(string)==<span style="font-weight: bold; text-decoration: underline;">False</span>:
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">"Role can be admin or normal"</span>)
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">self</span>.value = string
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-6-5" class="outline-4">
<h4 id="sec-2-6-5"><span class="section-number-4">2.6.5</span> Test Constructor</h4>
<div class="outline-text-4" id="text-2-6-5">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TestRole</span>(TestCase):
    <span style="font-weight: bold; font-style: italic;">TESTING</span> = <span style="font-weight: bold; text-decoration: underline;">True</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_role_creation</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">"test_role"</span>
        <span style="font-weight: bold; font-style: italic;">new_name</span> = Name(<span style="font-style: italic;">"admin"</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">correct name</span>
        <span style="font-weight: bold;">self</span>.assertEqual(new_name.value, <span style="font-style: italic;">"admin"</span>)
        <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">incorrect name</span>
        <span style="font-weight: bold;">self</span>.assertRaises(<span style="font-weight: bold; text-decoration: underline;">TypeError</span>, Role, <span style="font-style: italic;">"adminnormal"</span>)
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-6-6" class="outline-4">
<h4 id="sec-2-6-6"><span class="section-number-4">2.6.6</span> Functions</h4>
<div class="outline-text-4" id="text-2-6-6">
</div><div id="outline-container-sec-2-6-6-1" class="outline-5">
<h5 id="sec-2-6-6-1"><span class="section-number-5">2.6.6.1</span> setrole</h5>
<div class="outline-text-5" id="text-2-6-6-1">
</div><ol class="org-ol"><li><a id="sec-2-6-6-1-1" name="sec-2-6-6-1-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-6-6-1-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">set_role</span>(<span style="font-weight: bold;">self</span>, name):
        <span style="font-weight: bold;">if</span> is_role(name)==<span style="font-weight: bold; text-decoration: underline;">False</span> :
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">"role can be admin or normal"</span>)
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">self</span>.value = name
</pre>
</div>
</div>

<ol class="org-ol"><li><a id="sec-2-6-6-1-1-1" name="sec-2-6-6-1-1-1"></a>Test<br  /><div class="outline-text-7" id="text-2-6-6-1-1-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_role_set_name</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold; font-style: italic;">temp_role</span> = Role(<span style="font-style: italic;">'admin'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(temp_role.value,<span style="font-style: italic;">'admin'</span>)
        temp_role.set_role(<span style="font-style: italic;">'normal'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(temp_role.value,<span style="font-style: italic;">'normal'</span>)
</pre>
</div>
</div>
</li></ol>
</li></ol>
</div>


<div id="outline-container-sec-2-6-6-2" class="outline-5">
<h5 id="sec-2-6-6-2"><span class="section-number-5">2.6.6.2</span> getrole</h5>
<div class="outline-text-5" id="text-2-6-6-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_role</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.value
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-6-6-3" class="outline-5">
<h5 id="sec-2-6-6-3"><span class="section-number-5">2.6.6.3</span> getAll: Nil &#x2013;&gt; set[Role]</h5>
<div class="outline-text-5" id="text-2-6-6-3">
</div><ol class="org-ol"><li><a id="sec-2-6-6-3-1" name="sec-2-6-6-3-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-6-6-3-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold; text-decoration: underline;">@staticmethod</span>
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_all</span>():
<span style="font-weight: bold; font-style: italic;">#        </span><span style="font-weight: bold; font-style: italic;">return ('admin','normal')</span>
        <span style="font-weight: bold;">pass</span>
</pre>
</div>
</div>
</li>


<li><a id="sec-2-6-6-3-2" name="sec-2-6-6-3-2"></a>Test getAll: Nil &#x2013;&gt; set[Role]<br  /><div class="outline-text-6" id="text-2-6-6-3-2">
<div class="org-src-container">

<pre class="src src-python">   <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_role_get_all</span>(<span style="font-weight: bold;">self</span>):
       <span style="font-weight: bold; font-style: italic;">temp_role</span> = Role(<span style="font-style: italic;">'admin'</span>)
       <span style="font-weight: bold; font-style: italic;">#</span><span style="font-weight: bold; font-style: italic;">self.assertEqual(temp_role.get_all(),('admin','normal'))</span>
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-6-6-4" class="outline-5">
<h5 id="sec-2-6-6-4"><span class="section-number-5">2.6.6.4</span> to_client</h5>
<div class="outline-text-5" id="text-2-6-6-4">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">to_client</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">"fill"</span>
</pre>
</div>
</div>
</div>
</div>
</div>



<div id="outline-container-sec-2-7" class="outline-3">
<h3 id="sec-2-7"><span class="section-number-3">2.7</span> Session</h3>
<div class="outline-text-3" id="text-2-7">
</div><div id="outline-container-sec-2-7-1" class="outline-4">
<h4 id="sec-2-7-1"><span class="section-number-4">2.7.1</span> Introduction</h4>
<div class="outline-text-4" id="text-2-7-1">
<p>
Session class essentially has the methods for addition, deletion and
editing the user. It gives a session instance which will do all these
things required. 
User cannot be edited or deleted when he/she is logged in
There has to be atleast one admin
Also getting all the email and named for the phone book are added here
Vaildations are taken care in User function.
</p>
</div>
</div>

<div id="outline-container-sec-2-7-2" class="outline-4">
<h4 id="sec-2-7-2"><span class="section-number-4">2.7.2</span> Mutable Data</h4>
<div class="outline-text-4" id="text-2-7-2">
<p>
These are the data associated with Role type, which are mutable
</p>

<ul class="org-ul">
<li>User
</li>
<li>session_list
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-2-7-3" class="outline-4">
<h4 id="sec-2-7-3"><span class="section-number-4">2.7.3</span> Definition</h4>
<div class="outline-text-4" id="text-2-7-3">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">Session</span>():
    <span style="font-weight: bold; font-style: italic;">user</span> = <span style="font-weight: bold; text-decoration: underline;">None</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-7-4" class="outline-4">
<h4 id="sec-2-7-4"><span class="section-number-4">2.7.4</span> Constructor</h4>
<div class="outline-text-4" id="text-2-7-4">
<p>
The signature of Session is defined as follows
</p>
<pre class="example">
sesssion_instance = session(user)
</pre>

<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">__init__</span>(<span style="font-weight: bold;">self</span>, user):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">isinstance</span>(user,User):
            <span style="font-weight: bold;">raise</span> <span style="font-weight: bold; text-decoration: underline;">TypeError</span>(<span style="font-style: italic;">'only instnaces of user class can get session'</span>)
        <span style="font-weight: bold;">self</span>.user = user
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-7-5" class="outline-4">
<h4 id="sec-2-7-5"><span class="section-number-4">2.7.5</span> Test Constructor</h4>
<div class="outline-text-4" id="text-2-7-5">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TestSession</span>(TestCase):
    <span style="font-weight: bold; font-style: italic;">TESTING</span> = <span style="font-weight: bold; text-decoration: underline;">True</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-7-6" class="outline-4">
<h4 id="sec-2-7-6"><span class="section-number-4">2.7.6</span> Functions</h4>
<div class="outline-text-4" id="text-2-7-6">
</div><div id="outline-container-sec-2-7-6-1" class="outline-5">
<h5 id="sec-2-7-6-1"><span class="section-number-5">2.7.6.1</span> get_user</h5>
<div class="outline-text-5" id="text-2-7-6-1">
</div><ol class="org-ol"><li><a id="sec-2-7-6-1-1" name="sec-2-7-6-1-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-7-6-1-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_user</span>(<span style="font-weight: bold;">self</span>):
            <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.user
</pre>
</div>
</div>
</li>

<li><a id="sec-2-7-6-1-2" name="sec-2-7-6-1-2"></a>Test<br  /><div class="outline-text-6" id="text-2-7-6-1-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_addsession</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing session:add session'</span>
        <span style="font-weight: bold; font-style: italic;">temp</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'john'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'john@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
        <span style="font-weight: bold; font-style: italic;">inst</span> = User(temp)
        <span style="font-weight: bold; font-style: italic;">sess</span> = Session(inst)
        <span style="font-weight: bold;">self</span>.assertEqual(inst,sess.get_user())
</pre>
</div>
</div>
</li></ol>
</div>
</div>
</div>


<div id="outline-container-sec-2-8" class="outline-3">
<h3 id="sec-2-8"><span class="section-number-3">2.8</span> System</h3>
<div class="outline-text-3" id="text-2-8">
</div><div id="outline-container-sec-2-8-1" class="outline-4">
<h4 id="sec-2-8-1"><span class="section-number-4">2.8.1</span> Introduction</h4>
<div class="outline-text-4" id="text-2-8-1">
<p>
System class has all the system functions like get user, set user
delete user.
</p>
</div>
</div>


<div id="outline-container-sec-2-8-2" class="outline-4">
<h4 id="sec-2-8-2"><span class="section-number-4">2.8.2</span> Mutable Data</h4>
<div class="outline-text-4" id="text-2-8-2">
<p>
These are the data associated with Role type, which are mutable
</p>
</div>
</div>



<div id="outline-container-sec-2-8-3" class="outline-4">
<h4 id="sec-2-8-3"><span class="section-number-4">2.8.3</span> Definition</h4>
<div class="outline-text-4" id="text-2-8-3">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">System</span>():
    <span style="font-weight: bold; font-style: italic;">users</span> = []
    <span style="font-weight: bold; font-style: italic;">session_list</span> = []
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-8-4" class="outline-4">
<h4 id="sec-2-8-4"><span class="section-number-4">2.8.4</span> Constructor</h4>
</div>

<div id="outline-container-sec-2-8-5" class="outline-4">
<h4 id="sec-2-8-5"><span class="section-number-4">2.8.5</span> Test Constructor</h4>
<div class="outline-text-4" id="text-2-8-5">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold; font-style: italic;">sys</span> = System()
<span style="font-weight: bold;">class</span> <span style="font-weight: bold; text-decoration: underline;">TestSystem</span>(TestCase):

    <span style="font-weight: bold; font-style: italic;">TESTING</span> = <span style="font-weight: bold; text-decoration: underline;">True</span>
    
    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">setUp</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold; font-style: italic;">temp</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'john'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'john@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
        <span style="font-weight: bold; font-style: italic;">temp1</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'johnsnow'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'johnsnow@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'normal'</span>) }
        <span style="font-weight: bold; font-style: italic;">inst</span> = User(temp)        
        <span style="font-weight: bold; font-style: italic;">sessi</span> = Session(inst)
        <span style="font-weight: bold; font-style: italic;">inst1</span> = User(temp1)
        <span style="font-weight: bold; font-style: italic;">sessi1</span> = Session(inst1)
        <span style="font-weight: bold;">global</span> sys
        sys.users.append(inst)
        sys.session_list.append(sessi)
        sys.users.append(inst1)
        sys.session_list.append(sessi1)

    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">tearDown</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">sys.users</span> = []
        <span style="font-weight: bold; font-style: italic;">sys.session_list</span> = []
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-8-6" class="outline-4">
<h4 id="sec-2-8-6"><span class="section-number-4">2.8.6</span> Functions</h4>
<div class="outline-text-4" id="text-2-8-6">
</div><div id="outline-container-sec-2-8-6-1" class="outline-5">
<h5 id="sec-2-8-6-1"><span class="section-number-5">2.8.6.1</span> adduser</h5>
<div class="outline-text-5" id="text-2-8-6-1">
</div><ol class="org-ol"><li><a id="sec-2-8-6-1-1" name="sec-2-8-6-1-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-1-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">add_user</span>(<span style="font-weight: bold;">self</span>,user,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> session.get_user().get_role()==<span style="font-style: italic;">'admin'</span>:
                <span style="font-weight: bold;">if</span> user.get_email() <span style="font-weight: bold;">not</span> <span style="font-weight: bold;">in</span> [<span style="font-weight: bold;">self</span>.users[i].get_email() <span style="font-weight: bold;">for</span> i <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">range</span>(0,<span style="font-weight: bold;">len</span>(<span style="font-weight: bold;">self</span>.users))]:
                    <span style="font-weight: bold;">self</span>.users.append(user)
                    <span style="font-weight: bold;">return</span> <span style="font-weight: bold; text-decoration: underline;">True</span>
                <span style="font-weight: bold;">else</span> :
                    <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'User already exists'</span>)
                    <span style="font-weight: bold;">return</span> <span style="font-weight: bold; text-decoration: underline;">False</span>
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'User must be admin to add a new user'</span>)
                <span style="font-weight: bold;">return</span> <span style="font-weight: bold; text-decoration: underline;">False</span>
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'instances of user and session must be passed'</span>)            
            <span style="font-weight: bold;">return</span> <span style="font-weight: bold; text-decoration: underline;">False</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-1-2" name="sec-2-8-6-1-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-1-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_adduser</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: adduser'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError): <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">trying to add same user</span>
            sys.add_user(normal_logged[0].get_user(),admin_logged)
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError): <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">normal uesr trying to add user</span>
            <span style="font-weight: bold; font-style: italic;">temp2</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'raj'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'raj@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
            <span style="font-weight: bold; font-style: italic;">inst2</span> = User(temp2)
            sys.add_user(inst2,normal_logged[0])
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError): <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">proper instances not passed</span>
            <span style="font-weight: bold; font-style: italic;">temp2</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'raj'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'raj@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
            <span style="font-weight: bold; font-style: italic;">inst2</span> = User(temp2)
            sys.add_user(admin_logged[0],inst2)
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-2" class="outline-5">
<h5 id="sec-2-8-6-2"><span class="section-number-5">2.8.6.2</span> showUsers</h5>
<div class="outline-text-5" id="text-2-8-6-2">
</div><ol class="org-ol"><li><a id="sec-2-8-6-2-1" name="sec-2-8-6-2-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-2-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">show_users</span>(<span style="font-weight: bold;">self</span>,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list :
                <span style="font-weight: bold;">return</span> copy.deepcopy(<span style="font-weight: bold;">self</span>.users)
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'Session not in session list'</span>)
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Instance of session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-2-2" name="sec-2-8-6-2-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-2-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_showusers</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: show_users'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold; font-style: italic;">a</span> = sys.show_users(admin_logged[0])
        <span style="font-weight: bold;">for</span> i <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">range</span>(0,<span style="font-weight: bold;">len</span>(a)):
            <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">str</span>(a[i].get_email()),<span style="font-weight: bold;">str</span>(sys.users[i].get_email()))
            <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">str</span>(a[i].get_name()),<span style="font-weight: bold;">str</span>(sys.users[i].get_name()))
            <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">str</span>(a[i].get_role()),<span style="font-weight: bold;">str</span>(sys.users[i].get_role()))
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-3" class="outline-5">
<h5 id="sec-2-8-6-3"><span class="section-number-5">2.8.6.3</span> deluser</h5>
<div class="outline-text-5" id="text-2-8-6-3">
</div><ol class="org-ol"><li><a id="sec-2-8-6-3-1" name="sec-2-8-6-3-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-3-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">del_user</span>(<span style="font-weight: bold;">self</span>,user,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> session.get_user().get_role()==<span style="font-style: italic;">'admin'</span> <span style="font-weight: bold;">and</span> user.get_role()!=<span style="font-style: italic;">'admin'</span> <span style="font-weight: bold;">and</span> session.get_user()!=user:
                 <span style="font-weight: bold;">if</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">and</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list :
                    <span style="font-weight: bold;">self</span>.users.remove(user)
                 <span style="font-weight: bold;">else</span> :
                    <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user not in list or session not present'</span>)
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'only admin can delete and admin cannot be removed'</span>)
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Instance of user and session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-3-2" name="sec-2-8-6-3-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-3-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_deluser</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: del_users'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError): <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">normal user trying to delete user</span>
            <span style="font-weight: bold; font-style: italic;">temp2</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'raj'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'raj@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'normal'</span>) }
            <span style="font-weight: bold; font-style: italic;">inst2</span> = User(temp2)
            sys.users.append(inst2)
            sys.del_user(inst2,normal_logged[0])
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError): <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">you cannot delete an admin</span>
            <span style="font-weight: bold; font-style: italic;">temp3</span> = {<span style="font-style: italic;">'name'</span>: Name(<span style="font-style: italic;">'raja'</span>), <span style="font-style: italic;">'email'</span>: Email(<span style="font-style: italic;">'raja@gmail.com'</span>) , <span style="font-style: italic;">'role'</span>: Role(<span style="font-style: italic;">'admin'</span>) }
            <span style="font-weight: bold; font-style: italic;">inst3</span> = User(temp3)
            sys.users.append(inst3)
            sys.del_user(inst3,admin_logged[0])
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError): <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">cannot delete oneself</span>
            sys.del_user(admin_logged[0].get_user(),admin_logged[0])
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-4" class="outline-5">
<h5 id="sec-2-8-6-4"><span class="section-number-5">2.8.6.4</span> getuserbyemail</h5>
<div class="outline-text-5" id="text-2-8-6-4">
</div><ol class="org-ol"><li><a id="sec-2-8-6-4-1" name="sec-2-8-6-4-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-4-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">getUserByEmail</span>(<span style="font-weight: bold;">self</span>,email,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(session,Session) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(email,Email):
            <span style="font-weight: bold;">if</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
                <span style="font-weight: bold;">return</span> [user <span style="font-weight: bold;">for</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">if</span> user.get_email()==email.get_email()]
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'session not valid'</span>)
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Instance of Email and session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-4-2" name="sec-2-8-6-4-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-4-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_getuserbyemail</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: get_user by email'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold; font-style: italic;">a</span> = sys.getUserByEmail(Email(<span style="font-style: italic;">'john@gmail.com'</span>),admin_logged[0])
        <span style="font-weight: bold;">self</span>.assertEqual(a[0].get_name(),<span style="font-style: italic;">'john'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">len</span>(a),1)
        <span style="font-weight: bold;">self</span>.assertEqual(a[0].get_email(),<span style="font-style: italic;">'john@gmail.com'</span>)
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-5" class="outline-5">
<h5 id="sec-2-8-6-5"><span class="section-number-5">2.8.6.5</span> getEmail</h5>
<div class="outline-text-5" id="text-2-8-6-5">
</div><ol class="org-ol"><li><a id="sec-2-8-6-5-1" name="sec-2-8-6-5-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-5-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_email</span>(<span style="font-weight: bold;">self</span>,user,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">and</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
                <span style="font-weight: bold;">return</span> [u.get_email() <span style="font-weight: bold;">for</span> u <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">if</span> u==user][0]
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user doesnot exists or invalid session'</span>)
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Instance of session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-5-2" name="sec-2-8-6-5-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-5-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_getemail</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: get_email'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold; font-style: italic;">a</span> = sys.get_email(normal_logged[0].get_user(),admin_logged[0])
        <span style="font-weight: bold;">self</span>.assertEqual(a,<span style="font-style: italic;">'johnsnow@gmail.com'</span>)
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-6" class="outline-5">
<h5 id="sec-2-8-6-6"><span class="section-number-5">2.8.6.6</span> getName</h5>
<div class="outline-text-5" id="text-2-8-6-6">
</div><ol class="org-ol"><li><a id="sec-2-8-6-6-1" name="sec-2-8-6-6-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-6-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_name</span>(<span style="font-weight: bold;">self</span>,user,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">and</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
                <span style="font-weight: bold;">return</span> [u.get_name() <span style="font-weight: bold;">for</span> u <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">if</span> u==user][0]
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user doesnot exists or invalid session'</span>)
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Instance of session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-6-2" name="sec-2-8-6-6-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-6-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_getname</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: get_email'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold; font-style: italic;">a</span> = sys.get_name(normal_logged[0].get_user(),admin_logged[0])
        <span style="font-weight: bold;">self</span>.assertEqual(a,<span style="font-style: italic;">'johnsnow'</span>)
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-7" class="outline-5">
<h5 id="sec-2-8-6-7"><span class="section-number-5">2.8.6.7</span> getrole</h5>
<div class="outline-text-5" id="text-2-8-6-7">
</div><ol class="org-ol"><li><a id="sec-2-8-6-7-1" name="sec-2-8-6-7-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-7-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">get_role</span>(<span style="font-weight: bold;">self</span>,user,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">and</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
                <span style="font-weight: bold;">return</span> [u.get_role() <span style="font-weight: bold;">for</span> u <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">if</span> u==user][0]
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user doesnot exists or invalid session'</span>)
        <span style="font-weight: bold;">else</span>:
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Instance of session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-7-2" name="sec-2-8-6-7-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-7-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_getemail</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: get_email'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold; font-style: italic;">a</span> = sys.get_role(admin_logged[0].get_user(),admin_logged[0])
        <span style="font-weight: bold;">self</span>.assertEqual(a,<span style="font-style: italic;">'admin'</span>)
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-8" class="outline-5">
<h5 id="sec-2-8-6-8"><span class="section-number-5">2.8.6.8</span> setEmail</h5>
<div class="outline-text-5" id="text-2-8-6-8">
</div><ol class="org-ol"><li><a id="sec-2-8-6-8-1" name="sec-2-8-6-8-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-8-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">set_email</span>(<span style="font-weight: bold;">self</span>,user,email,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(email,Email):
            <span style="font-weight: bold;">if</span> session.user.get_role()==<span style="font-style: italic;">'admin'</span> <span style="font-weight: bold;">or</span> session.user==user:
               <span style="font-weight: bold;">if</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">and</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
                   <span style="font-weight: bold;">for</span> i <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">range</span>(0,<span style="font-weight: bold;">len</span>(<span style="font-weight: bold;">self</span>.users)):
                       <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">self</span>.users[i] == user:
                           <span style="font-weight: bold; font-style: italic;">user.email</span> = email
                           <span style="font-weight: bold;">self</span>.users[i] = user
               <span style="font-weight: bold;">else</span> :
                   <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user not existing or session expired'</span>)
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'Only admin of same user can edit the email'</span>)
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Proper instances of user,email, session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-8-2" name="sec-2-8-6-8-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-8-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_setemail</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: set_email'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        sys.set_email(normal_logged[0].get_user(),Email(<span style="font-style: italic;">'johnraj@gmail.com'</span>),admin_logged[0]) <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">admin changing</span>
        <span style="font-weight: bold;">self</span>.assertEqual(normal_logged[0].get_user().get_email(),<span style="font-style: italic;">'johnraj@gmail.com'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(sys.getUserByEmail(Email(<span style="font-style: italic;">'johnraj@gmail.com'</span>),admin_logged[0])[0],normal_logged[0].get_user())
        sys.set_email(normal_logged[0].get_user(),Email(<span style="font-style: italic;">'johnsnow@gmail.com'</span>),admin_logged[0]) <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">user changing bakc</span>
        <span style="font-weight: bold;">self</span>.assertEqual(normal_logged[0].get_user().get_email(),<span style="font-style: italic;">'johnsnow@gmail.com'</span>)
        <span style="font-weight: bold;">self</span>.assertEqual(sys.getUserByEmail(Email(<span style="font-style: italic;">'johnsnow@gmail.com'</span>),admin_logged[0])[0],normal_logged[0].get_user())
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-9" class="outline-5">
<h5 id="sec-2-8-6-9"><span class="section-number-5">2.8.6.9</span> setName</h5>
<div class="outline-text-5" id="text-2-8-6-9">
</div><ol class="org-ol"><li><a id="sec-2-8-6-9-1" name="sec-2-8-6-9-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-9-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">set_name</span>(<span style="font-weight: bold;">self</span>,user,name,session):
        <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(session,Session) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(name,Name):
            <span style="font-weight: bold;">if</span> session.user.get_role()==<span style="font-style: italic;">'admin'</span> <span style="font-weight: bold;">or</span> session.user==user:
               <span style="font-weight: bold;">if</span> user <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.users <span style="font-weight: bold;">and</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
                   <span style="font-weight: bold;">for</span> i <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">range</span>(0,<span style="font-weight: bold;">len</span>(<span style="font-weight: bold;">self</span>.users)):
                       <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">self</span>.users[i] == user:
                           <span style="font-weight: bold; font-style: italic;">user.name</span> = name
                           <span style="font-weight: bold;">self</span>.users[i] = user
               <span style="font-weight: bold;">else</span> :
                   <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user not existing or session expired'</span>)
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'Only admin of same user can edit the email'</span>)
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'Proper instances of user,email, session not passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-9-2" name="sec-2-8-6-9-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-9-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_setname</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: set_name'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        sys.set_name(normal_logged[0].get_user(),Name(<span style="font-style: italic;">'johnraj'</span>),admin_logged[0]) <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">admin changing</span>
        <span style="font-weight: bold;">self</span>.assertEqual(normal_logged[0].get_user().get_name(),<span style="font-style: italic;">'johnraj'</span>)
        sys.set_name(normal_logged[0].get_user(),Name(<span style="font-style: italic;">'johnsnow'</span>),normal_logged[0]) <span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">user changing bakc</span>
        <span style="font-weight: bold;">self</span>.assertEqual(normal_logged[0].get_user().get_name(),<span style="font-style: italic;">'johnsnow'</span>)
</pre>
</div>
</div>
</li></ol>
</div>


<div id="outline-container-sec-2-8-6-10" class="outline-5">
<h5 id="sec-2-8-6-10"><span class="section-number-5">2.8.6.10</span> showsessions</h5>
<div class="outline-text-5" id="text-2-8-6-10">
</div><ol class="org-ol"><li><a id="sec-2-8-6-10-1" name="sec-2-8-6-10-1"></a>Implementation<br  /><div class="outline-text-6" id="text-2-8-6-10-1">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">showSessions</span>(<span style="font-weight: bold;">self</span>,session):
        <span style="font-weight: bold;">if</span>  <span style="font-weight: bold;">isinstance</span>(session,Session):
            <span style="font-weight: bold;">if</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
               <span style="font-weight: bold;">if</span> session.get_user().get_role() == <span style="font-style: italic;">'admin'</span>:
                   <span style="font-weight: bold;">return</span> <span style="font-weight: bold;">self</span>.session_list[:]
               <span style="font-weight: bold;">else</span> :
                   <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'only admin can get session list'</span>)
            <span style="font-weight: bold;">else</span> :
                <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'session expired'</span>)
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> ConstraintError (<span style="font-style: italic;">'instance of session class has to be passed'</span>)
</pre>
</div>
</div>
</li>

<li><a id="sec-2-8-6-10-2" name="sec-2-8-6-10-2"></a>Test<br  /><div class="outline-text-6" id="text-2-8-6-10-2">
<div class="org-src-container">

<pre class="src src-python">    <span style="font-weight: bold;">def</span> <span style="font-weight: bold;">test_showsessions</span>(<span style="font-weight: bold;">self</span>):
        <span style="font-weight: bold;">print</span> <span style="font-style: italic;">'testing System: show session'</span>
        <span style="font-weight: bold;">global</span> sys
        <span style="font-weight: bold; font-style: italic;">admin_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'admin'</span>]
        <span style="font-weight: bold; font-style: italic;">normal_logged</span> = [s <span style="font-weight: bold;">for</span> s <span style="font-weight: bold;">in</span> sys.session_list <span style="font-weight: bold;">if</span> s.get_user().get_role()==<span style="font-style: italic;">'normal'</span>]
        <span style="font-weight: bold;">with</span> <span style="font-weight: bold;">self</span>.assertRaises(ConstraintError):
            <span style="font-weight: bold; font-style: italic;">a</span> = sys.showSessions(normal_logged[0])
        <span style="font-weight: bold; font-style: italic;">b</span> = sys.showSessions(admin_logged[0])
        <span style="font-weight: bold;">for</span> i <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">range</span>(0,<span style="font-weight: bold;">len</span>(b)):
            <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">str</span>(b[i].get_user().get_email()),<span style="font-weight: bold;">str</span>(sys.session_list[i].get_user().get_email()))
            <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">str</span>(b[i].get_user().get_name()),<span style="font-weight: bold;">str</span>(sys.session_list[i].get_user().get_name()))
            <span style="font-weight: bold;">self</span>.assertEqual(<span style="font-weight: bold;">str</span>(b[i].get_user().get_role()),<span style="font-weight: bold;">str</span>(sys.session_list[i].get_user().get_role()))
</pre>
</div>
</div>
</li></ol>
</div>
</div>
</div>


<div id="outline-container-sec-2-9" class="outline-3">
<h3 id="sec-2-9"><span class="section-number-3">2.9</span> Main</h3>
<div class="outline-text-3" id="text-2-9">
</div><div id="outline-container-sec-2-9-1" class="outline-4">
<h4 id="sec-2-9-1"><span class="section-number-4">2.9.1</span> Construction</h4>
<div class="outline-text-4" id="text-2-9-1">
<p>
the main class containing login and delete session
</p>

<div class="org-src-container">

<pre class="src src-python"></pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-9-2" class="outline-4">
<h4 id="sec-2-9-2"><span class="section-number-4">2.9.2</span> Test the Construction</h4>
<div class="outline-text-4" id="text-2-9-2">
<div class="org-src-container">

<pre class="src src-python"></pre>
</div>
</div>
</div>




<div id="outline-container-sec-2-9-3" class="outline-4">
<h4 id="sec-2-9-3"><span class="section-number-4">2.9.3</span> Functions</h4>
<div class="outline-text-4" id="text-2-9-3">
</div><div id="outline-container-sec-2-9-3-1" class="outline-5">
<h5 id="sec-2-9-3-1"><span class="section-number-5">2.9.3.1</span> login</h5>
<div class="outline-text-5" id="text-2-9-3-1">
</div><ol class="org-ol"><li><a id="sec-2-9-3-1-1" name="sec-2-9-3-1-1"></a>Implementaion<br  /><div class="outline-text-6" id="text-2-9-3-1-1">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">def</span> <span style="font-weight: bold;">login</span>(user,sys):
    
    <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(user,User) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(sys,System):
        <span style="font-weight: bold; font-style: italic;">sessi</span> = Session(user)
        sys.session_list.append(sessi)
    <span style="font-weight: bold;">else</span> :
        <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'user and system instances required'</span>)

<span style="font-weight: bold;">def</span> <span style="font-weight: bold;">del_session</span>(session,sys):

    <span style="font-weight: bold;">if</span> <span style="font-weight: bold;">isinstance</span>(session,Session) <span style="font-weight: bold;">and</span> <span style="font-weight: bold;">isinstance</span>(sys,System):
        <span style="font-weight: bold;">if</span> session <span style="font-weight: bold;">in</span> <span style="font-weight: bold;">self</span>.session_list:
            sys.session_list.remove(session)
        <span style="font-weight: bold;">else</span> :
            <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'session expired'</span>)
    <span style="font-weight: bold;">else</span> :
        <span style="font-weight: bold;">raise</span> ConstraintError(<span style="font-style: italic;">'Session and system instances required'</span>)
</pre>
</div>
</div>
</li></ol>
</div>
</div>
</div>
</div>



<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Run Test Cases</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">

<pre class="src src-python"><span style="font-weight: bold;">if</span> <span style="font-weight: bold;">__name__</span> == <span style="font-style: italic;">'__main__'</span>:
    unittest.main()
</pre>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">[2016-05-11 Wed]</span></span></p>
<p class="author">Author: Raj Manvar</p>
<p class="date">Created: 2016-06-01 Wed 10:33</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 24.4.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
